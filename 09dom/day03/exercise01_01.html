<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<title>全选和取消全选</title>

</head>

<body>
	<h2>管理员列表</h2>
	<table border="1px" width="500px">
		<thead>
			<tr>
				<th><input type="checkbox" />全选</th>
				<th>管理员ID</th>
				<th>姓名</th>
				<th>操作</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td><input type="checkbox" name="adminID" /></td>
				<td>1</td>
				<td>Tester</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="adminID" /></td>
				<td>2</td>
				<td>Manager</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="adminID" /></td>
				<td>3</td>
				<td>Analyst</td>
				<td>修改 删除</td>
			</tr>
			<tr>
				<td><input type="checkbox" name="adminID" /></td>
				<td>4</td>
				<td>Admin</td>
				<td>修改 删除</td>
			</tr>
		</tbody>
	</table>
	<script>
		//找到table下thead下第一个th中的input，为其绑定单击事件为function：
		var chbAll = document.querySelector("table>thead th:first-child>input");
		chbAll.onclick = function () {
			//获得table下tbody下所有第一个td中input，保存在chbs
			var chbs = document.querySelectorAll("table>tbody td:first-child>input");
			//遍历chbs中每个chb
			for (var i = 0; i < chbs.length; i++) {
				//chb数组中当前chb的checked等于事件中当前chb的checked
				chbs[i].checked = this.checked;
			}
		}
		//找到table下tbody所有第一个td中的input，保存在chbs中
		var chbs = document.querySelectorAll("table>tbody td:first-child>input");
		//遍历chbs
		for (var i = 0; i < chbs.length; i++) {
			//为当前chb绑定单击事件为check
			chbs[i].onclick = check;
		}
		function check() {//定义函数check
			if (!this.checked) {//如果当前chb未选中
				//chbAll也改为未选中
				chbAll.checked = false;
			} else {//否则
				//获得table下tbody下所有的第一个td中未选中的input，保存在chbs中
				var chbs = document.querySelectorAll(
					"table>tbody td:first-child>input:not(:checked)"
				);
				//如果chbs的length等于0
				if (chbs.length == 0) {
					//chbAll也改为未选中
					chbAll.checked = true;
				} else {//否则
					//chbAll改为未选中
					chbAll.checked = false;
				}
			}
		}	
	</script>
</body>

</html>